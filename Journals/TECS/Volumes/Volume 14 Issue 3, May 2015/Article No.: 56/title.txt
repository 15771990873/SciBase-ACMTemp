Energy Modeling of Software for a Hardware Multithreaded Embedded Microprocessor