Compiler-assisted soft error detection under performance and energy constraints in embedded systems