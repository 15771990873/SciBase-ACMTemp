Adaptive wear-leveling algorithm for PRAM main memory with a DRAM buffer