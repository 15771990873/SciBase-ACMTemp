Energy macromodeling of embedded operating systems