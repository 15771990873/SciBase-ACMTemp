A framework for flexible scheduling in the RTSJ