LegUp: An open-source high-level synthesis tool for FPGA-based processor/accelerator systems