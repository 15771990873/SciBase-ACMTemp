A complete self-testing and self-configuring NoC infrastructure for cost-effective MPSoCs