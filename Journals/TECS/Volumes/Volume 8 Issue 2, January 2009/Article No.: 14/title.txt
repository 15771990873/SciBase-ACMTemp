Cross-layer customization for rapid and low-cost task preemption in multitasked embedded systems