Performance and Reliability Analysis of Cross-Layer Optimizations of NAND Flash Controllers