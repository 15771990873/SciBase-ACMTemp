Cache persistence analysis: Theory and practice