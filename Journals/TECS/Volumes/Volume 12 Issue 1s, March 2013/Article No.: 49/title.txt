metroII: A design environment for cyber-physical systems