Maximizing rewards for real-time applications with energy constraints