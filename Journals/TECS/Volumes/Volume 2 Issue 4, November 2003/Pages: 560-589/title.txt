Automatic compilation to a coarse-grained reconfigurable system-opn-chip