Adaptive and Hierarchical Runtime Manager for Energy-Aware Thermal Management of Embedded Systems