Robustness analysis for battery-supported cyber-physical systems