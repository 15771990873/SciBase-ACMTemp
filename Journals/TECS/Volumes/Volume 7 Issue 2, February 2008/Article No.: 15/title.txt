Semantics-preserving multitask implementation of synchronous programs