Memory allocation for embedded systems with a compile-time-unknown scratch-pad size