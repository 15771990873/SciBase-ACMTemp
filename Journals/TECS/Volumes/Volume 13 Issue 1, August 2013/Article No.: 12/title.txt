Contextual partitioning for speech recognition