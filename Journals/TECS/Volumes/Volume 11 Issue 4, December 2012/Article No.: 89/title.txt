Enabling dynamic binary translation in embedded systems with scratchpad memory