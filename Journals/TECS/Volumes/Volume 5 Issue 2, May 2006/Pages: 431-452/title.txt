A retargetable framework for instruction-set architecture simulation