A reliable gateway for in-vehicle networks based on LIN, CAN, and FlexRay