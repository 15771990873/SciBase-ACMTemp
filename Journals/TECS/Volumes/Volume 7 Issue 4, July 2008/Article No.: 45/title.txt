Implementing fault-tolerance in real-time programs by automatic program transformations