Practical and low-overhead masking of failures of TCP-based servers