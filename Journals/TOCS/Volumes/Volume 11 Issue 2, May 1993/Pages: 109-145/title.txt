Design and verification of the Rollback Chip using HOP: a case study of formal methods applied to hardware design