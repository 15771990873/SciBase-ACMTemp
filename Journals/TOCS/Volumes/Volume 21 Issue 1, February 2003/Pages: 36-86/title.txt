Run-time adaptation in river