Modeling process-driven and service-oriented architectures using patterns and pattern primitives