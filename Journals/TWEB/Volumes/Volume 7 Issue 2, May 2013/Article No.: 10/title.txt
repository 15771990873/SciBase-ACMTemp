Coordinating the web of services for a smart home