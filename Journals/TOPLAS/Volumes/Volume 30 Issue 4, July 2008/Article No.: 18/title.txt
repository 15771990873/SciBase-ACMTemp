Checking type safety of foreign function calls