METRIC: Memory tracing via dynamic binary rewriting to identify cache inefficiencies