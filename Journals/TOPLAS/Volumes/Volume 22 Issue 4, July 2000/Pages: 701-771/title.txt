Typed memory management via static capabilities