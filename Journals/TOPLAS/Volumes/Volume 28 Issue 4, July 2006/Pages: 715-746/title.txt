Message analysis for concurrent programs using message passing