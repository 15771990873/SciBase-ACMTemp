Lazy and incremental program generation