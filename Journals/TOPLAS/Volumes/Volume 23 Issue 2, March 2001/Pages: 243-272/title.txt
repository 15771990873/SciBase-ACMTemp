Type elaboration and subtype completion for Java bytecode