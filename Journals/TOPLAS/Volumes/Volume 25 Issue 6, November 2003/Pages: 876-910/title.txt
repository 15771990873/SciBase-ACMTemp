Stack allocation and synchronization optimizations for Java using escape analysis