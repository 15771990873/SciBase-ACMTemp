Lazy rewriting on eager machinery