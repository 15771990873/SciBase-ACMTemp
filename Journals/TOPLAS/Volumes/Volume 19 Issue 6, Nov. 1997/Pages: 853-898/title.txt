Parallelizing nonnumerical code with selective scheduling and software pipelining