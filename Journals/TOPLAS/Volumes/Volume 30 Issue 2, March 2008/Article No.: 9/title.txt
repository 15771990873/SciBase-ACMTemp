Normalize, transpose, and distribute: An automatic approach for handling nonscalars