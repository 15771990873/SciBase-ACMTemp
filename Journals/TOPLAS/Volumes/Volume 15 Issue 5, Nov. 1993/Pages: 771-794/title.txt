Mathematical foundations for time warp systems