Pattern-Based Verification for Multithreaded Programs