A theory of contracts for Web services