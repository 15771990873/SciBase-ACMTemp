Type checking concurrent I/O