A state-dependent time evolving multi-constraint routing algorithm