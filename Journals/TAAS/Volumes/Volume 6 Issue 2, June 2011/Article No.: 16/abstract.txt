Macro programming a spatial computer is the ability to specify application tasks at a global level while relying on compiler-like software to translate the global tasks into the individual component activities. Bayesian networks can be regarded as a powerful tool for macro programming a spatial computer, such as a dense sensor network, in a variety of data analysis applications. In this article we present our architecture to program a spatial computer by means of a distributed Bayesian network and present some applications we developed over a sensor network testing both inference and anomaly-detection analysis.