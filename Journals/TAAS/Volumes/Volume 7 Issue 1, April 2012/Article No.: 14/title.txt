Decentralized and optimal control of shared resource pools