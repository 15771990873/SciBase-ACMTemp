An enhancement to the CSMA p-persistent protocol family is proposed, based on a fully decentralized control that adjusts the message transmission rate of each node to the estimated density of surrounding transmitting nodes. The system does not require enumeration of nodes nor control messages, the only input to the control coming from the physical medium occupation. In addition to communication protocols, this technique can be used as inexpensive and efficient density estimation of physical entities in highly dynamic scenarios. Stability conditions are proposed by means of a rigorous theoretical investigation. We prove that our algorithm ensures stability even with unknown and time--varying network topologies. We show that good channel exploitation levels can be assured as well by suitably tuning the control parameters. A digital algorithm for practical implementation is proposed. The results are supported by simulation experiments.