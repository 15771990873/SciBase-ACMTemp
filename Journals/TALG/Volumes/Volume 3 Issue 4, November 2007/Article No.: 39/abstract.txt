We consider the problem of minimizing the total weighted flow time on a single machine with preemptions. We give an online algorithm that isO(k)-competitive forkweight classes. This implies anO(logW)-competitive algorithm, whereWis the maximum to minimum ratio of weights. This algorithm also implies anO(logn&plus; logP)-approximation ratio for the problem, wherePis the ratio of the maximum to minimum job size andnis the number of jobs. We also consider the nonclairvoyant setting where the size of a job is unknown upon its arrival and becomes known to the scheduler only when the job meets its service requirement. We consider the resource augmentation model, and give a (1 &plus; &epsiv;)-speed, (1 &plus;1/&epsiv;)-competitive online algorithm.