Finding small separators in linear time via treewidth reduction