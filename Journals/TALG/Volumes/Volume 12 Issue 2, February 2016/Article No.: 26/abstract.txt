In the trajectory segmentation problem, we are given a polygonal trajectory withnvertices that we have to subdivide into a minimum number of disjoint segments (subtrajectories) that all satisfy a given criterion. The problem is known to be solvable efficiently formonotonecriteria: criteria with the property that if they hold on a certain segment, they also hold on every subsegment of that segment. To the best of our knowledge, no theoretical results are known for nonmonotone criteria.We present a broader study of the segmentation problem, and suggest a general framework for solving it, based on thestart-stop diagram: a 2-dimensional diagram that represents all valid and invalid segments of a given trajectory. This yields two subproblems: (1) computing the start-stop diagram, and (2) finding the optimal segmentation for a given diagram. We show that (2) is NP-hard in general. However, we identify properties of the start-stop diagram that make the problem tractable and give a polynomial-time algorithm for this case.We study two concrete nonmonotone criteria that arise in practical applications in more detail. Both are based on a given univariate attribute functionfover the domain of the trajectory. We say a segment satisfies anoutlier-tolerant criterionif the value offlies within a certain range for at least a given percentage of the length of the segment. We say a segment satisfies astandard deviation criterionif the standard deviation offover the length of the segment lies below a given threshold. We show that both criteria satisfy the properties that make the segmentation problem tractable. In particular, we compute an optimal segmentation of a trajectory based on the outlier-tolerant criterion inO(n2logn+kn2) time and on the standard deviation criterion inO(kn2) time, wherenis the number of vertices of the input trajectory andkis the number of segments in an optimal solution.