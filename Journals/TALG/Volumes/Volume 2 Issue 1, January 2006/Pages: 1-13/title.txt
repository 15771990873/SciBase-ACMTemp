Generating rooted and free plane trees