On a generalization of the stable roommates problem