Reasoning about online algorithms with weighted automata