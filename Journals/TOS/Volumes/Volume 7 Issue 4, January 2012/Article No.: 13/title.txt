Making the common case the only case with anticipatory memory allocation