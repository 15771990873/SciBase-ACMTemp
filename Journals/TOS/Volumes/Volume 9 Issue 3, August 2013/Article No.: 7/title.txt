SCMFS: A File System for Storage Class Memory and its Extensions