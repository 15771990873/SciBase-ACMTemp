Checking the Integrity of Transactional Mechanisms