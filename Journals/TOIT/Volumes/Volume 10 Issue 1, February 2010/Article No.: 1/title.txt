A market-based bandwidth charging framework