An analysis of rollback-based simulation