FISTE: A black box approach for end-to-end QoS management