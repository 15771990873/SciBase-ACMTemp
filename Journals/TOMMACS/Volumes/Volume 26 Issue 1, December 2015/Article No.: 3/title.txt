A Methodology to Model the Execution of Communication Software for Accurate Network Simulation