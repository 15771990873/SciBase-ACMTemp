On a Weight Distribution Problem, with Application to the Design of Stochastic Generators