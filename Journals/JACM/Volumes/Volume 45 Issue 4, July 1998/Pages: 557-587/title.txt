Formal verification of complex coherence protocols using symbolic state models