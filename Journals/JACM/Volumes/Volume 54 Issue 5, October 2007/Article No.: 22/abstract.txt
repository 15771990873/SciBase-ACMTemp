How does a search engine company decide what ads to display with each query so as to maximize its revenue&quest; This turns out to be a generalization of the online bipartite matching problem. We introduce the notion of a trade-off revealing LP and use it to derive an optimal algorithm achieving a competitive ratio of 1âˆ’1/efor this problem.