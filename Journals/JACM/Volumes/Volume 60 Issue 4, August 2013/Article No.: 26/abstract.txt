We present an all-pairs shortest path algorithm whose running time on a complete directed graph onnvertices whose edge weights are chosen independently and uniformly at random from [0,1] isO(n2), in expectation and with high probability. This resolves a long-standing open problem. The algorithm is a variant of the dynamic all-pairs shortest paths algorithm of Demetrescu and Italiano [2006]. The analysis relies on a proof that the number oflocally shortest pathsin such randomly weighted graphs isO(n2), in expectation and with high probability. We also present a dynamic version of the algorithm that recomputes all shortest paths after a random edge update inO(log2n) expected time.