Online algorithms for market clearing