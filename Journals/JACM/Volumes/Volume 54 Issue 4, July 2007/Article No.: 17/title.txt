A new look at survey propagation and its generalizations