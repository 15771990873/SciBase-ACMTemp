An Approach to Program Behavior Modeling and Optimal Memory Control