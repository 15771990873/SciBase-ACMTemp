Code Generation for Expressions with Common Subexpressions