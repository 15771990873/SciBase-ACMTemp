How to learn an unknown environment. I: the rectilinear case