A Decision Procedure for the Correctness of a Class of Programs