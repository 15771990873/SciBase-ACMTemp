Sorting Using Networks of Queues and Stacks