Real-time H.264 video encoding in software with fast mode decision and dynamic complexity control