Activity recognition via user-trace segmentation