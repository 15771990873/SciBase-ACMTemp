Countersniper system for urban warfare