Perpetual Data Collection with Energy-Harvesting Sensor Networks