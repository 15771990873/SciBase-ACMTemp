Efficient reasoning about data trees via integer linear programming