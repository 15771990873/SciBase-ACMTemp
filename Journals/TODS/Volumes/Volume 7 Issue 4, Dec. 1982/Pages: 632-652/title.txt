Deadlock freedom using edge locks