Overlay protection against link failures using network coding