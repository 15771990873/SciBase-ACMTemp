We analyze the capacity scaling laws of mobile ad hoc networks comprising heterogeneous nodes and spatial inhomogeneities. Most of previous work relies on the assumption that nodes are identical and uniformly visit the entire network space. Experimental data, however, show that the mobility pattern of individual nodes is usually restricted over the area, while the overall node density is often largely inhomogeneous due to the presence of node concentration points. In this paper we introduce a general class of mobile networks which incorporates both restricted mobility and inhomogeneous node density, and describe a methodology to compute the asymptotic throughput achievable in these networks by the store-carry-forward communication paradigm. We show how the analysis can be mapped, under mild assumptions, into a Maximum Concurrent Flow (MCF) problem over an associated Generalized Random Geometric Graph (GRGG). Moreover, we propose an asymptotically optimal scheduling and routing scheme that achieves the maximum network capacity.