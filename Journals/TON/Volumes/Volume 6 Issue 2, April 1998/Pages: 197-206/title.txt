Adaptive wavelength routing in all-optical networks