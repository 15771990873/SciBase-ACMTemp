Reliability constrained routing in QoS networks