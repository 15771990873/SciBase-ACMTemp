Diverse routing in networks with probabilistic failures