TCP performance over end-to-end rate control and stochastic available capacity