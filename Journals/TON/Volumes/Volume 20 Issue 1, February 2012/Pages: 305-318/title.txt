Cross-layer analysis of the end-to-end delay distribution in wireless sensor networks