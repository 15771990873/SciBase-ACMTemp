Resolving cross-layer conflict between overlay routing and traffic engineering