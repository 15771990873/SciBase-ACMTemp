On provisioning in all-optical networks: an impairment-aware approach