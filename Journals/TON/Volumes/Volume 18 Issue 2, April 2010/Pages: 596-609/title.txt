Replication routing in DTNs: a resource allocation approach