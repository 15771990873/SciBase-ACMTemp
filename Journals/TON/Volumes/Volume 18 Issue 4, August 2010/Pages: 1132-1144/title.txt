Passive diagnosis for wireless sensor networks