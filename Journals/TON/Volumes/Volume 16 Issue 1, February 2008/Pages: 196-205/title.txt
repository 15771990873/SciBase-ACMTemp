A service-curve framework for packet scheduling with switch configuration delays