Efficient user-space protocol implementations with QoS guarantees using real-time upcalls