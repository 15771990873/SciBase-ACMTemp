Cooperation in wireless ad hoc networks: a market-based approach