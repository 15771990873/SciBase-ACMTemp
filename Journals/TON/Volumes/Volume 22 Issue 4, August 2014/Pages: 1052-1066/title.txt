Maximizing reliability in WDM networks through lightpath routing