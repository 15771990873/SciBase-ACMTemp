A general approach for all-to-all routing in multihop WDM optical networks