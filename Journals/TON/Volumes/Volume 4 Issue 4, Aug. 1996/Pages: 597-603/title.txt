An architecture for QoS analysis and experimentation