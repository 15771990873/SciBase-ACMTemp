The effectiveness of affinity-based scheduling in multiprocessor network protocol processing (extended version)