Optimal partition of QoS requirements on unicast paths and multicast trees