Per-frame energy consumption in 802.11 devices and its implication on modeling and design