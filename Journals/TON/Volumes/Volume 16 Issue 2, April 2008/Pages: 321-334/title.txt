Rate allocation and network lifetime problems for wireless sensor networks