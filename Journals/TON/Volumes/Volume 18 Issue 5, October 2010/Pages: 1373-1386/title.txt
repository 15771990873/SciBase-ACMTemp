Path diversity over packet switched networks: performance analysis and rate allocation