In wireless networks, we need to allocate spectrum efficiently. One challenge is that the spectrum usage requests often come in an online fashion. The second challenge is that the secondary users in a cognitive radio network are often selfish and prefer to maximize their own benefits. In this paper, we address these two challenges by proposing TOFU, a semi-truthful online frequency allocation method for wireless networks when primary users can sublease the spectrums to secondary users. In our protocol, secondary users are required to submit the spectrum bid α time slots before its usage. Upon receiving an online spectrum request, our protocol will decide whether to grant its exclusive usage or not, within at least γ time slots of requests' arrival. We assume that existing spectrum usage can be preempted with some compensation. For various possible known information, we analytically prove that the competitive ratios of our methods are within small constant factors of the optimum online method. Furthermore, in our mechanisms, no selfish users will gain benefits by bidding lower than their willing payment. Our extensive simulation results show that they perform almost optimum: Our methods get a total profit that is more than 95% of the offline optimum when γ is about the duration of spectrum usage Δ.