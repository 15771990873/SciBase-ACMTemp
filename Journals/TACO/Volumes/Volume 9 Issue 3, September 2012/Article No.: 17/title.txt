Dynamic QoS management for chip multiprocessors