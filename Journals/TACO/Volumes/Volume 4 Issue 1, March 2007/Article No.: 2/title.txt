Architecting a reliable CMP switch architecture