Bones: An Automatic Skeleton-Based C-to-CUDA Compiler for GPUs