Trace transitioning and exception handling in a trace-based JIT compiler for java