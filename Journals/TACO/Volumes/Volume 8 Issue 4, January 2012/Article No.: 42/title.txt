Seamlessly portable applications: Managing the diversity of modern heterogeneous systems