Hardware transactional memory with software-defined conflicts