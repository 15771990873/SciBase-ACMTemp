Analysis of cache-coherence bottlenecks with hybrid hardware/software techniques