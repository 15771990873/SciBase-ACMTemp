Performance Portability Across Heterogeneous SoCs Using a Generalized Library-Based Approach