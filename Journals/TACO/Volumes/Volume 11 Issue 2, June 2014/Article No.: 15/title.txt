Virtual Ways: Low-Cost Coherence for Instruction Set Extensions with Architecturally Visible Storage