A circuit-architecture co-optimization framework for exploring nonvolatile memory hierarchies