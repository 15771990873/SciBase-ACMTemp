WADE: Writeback-aware dynamic cache management for NVM-based main memory system