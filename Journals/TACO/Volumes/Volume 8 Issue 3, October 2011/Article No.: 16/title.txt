Maintaining performance on power gating of microprocessor functional units by using a predictive pre-wakeup strategy