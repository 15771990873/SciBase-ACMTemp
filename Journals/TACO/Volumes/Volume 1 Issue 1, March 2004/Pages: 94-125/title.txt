Temperature-aware microarchitecture: Modeling and implementation