A hardware/software framework for instruction and data scratchpad memory allocation