Fair CPU time accounting in CMP&plus;SMT processors