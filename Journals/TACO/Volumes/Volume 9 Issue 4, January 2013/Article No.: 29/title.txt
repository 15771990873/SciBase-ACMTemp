Per-thread cycle accounting in multicore processors