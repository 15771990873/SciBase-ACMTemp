A SIMD optimization framework for retargetable compilers