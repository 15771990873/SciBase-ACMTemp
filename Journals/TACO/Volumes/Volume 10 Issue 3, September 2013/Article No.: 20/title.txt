Using machine learning to partition streaming programs