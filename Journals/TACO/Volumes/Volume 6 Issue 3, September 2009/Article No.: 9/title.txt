Compiler-directed scratchpad memory management via graph coloring