Procedure cloning: a transformation for improved system-level functional partitioning