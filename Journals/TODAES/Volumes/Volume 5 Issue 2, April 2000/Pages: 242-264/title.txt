Simultaneous reference allocation in code generation for dual data memory bank ASIPs