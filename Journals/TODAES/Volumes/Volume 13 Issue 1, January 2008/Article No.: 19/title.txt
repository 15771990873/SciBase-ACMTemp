A fuel-cell-battery hybrid for portable embedded systems