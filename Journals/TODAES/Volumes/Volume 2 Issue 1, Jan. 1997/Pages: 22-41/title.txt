Model refinement for hardware-software codesign