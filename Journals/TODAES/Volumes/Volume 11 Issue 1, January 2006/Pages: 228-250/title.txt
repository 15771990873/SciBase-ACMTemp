Improving the energy behavior of block buffering using compiler optimizations