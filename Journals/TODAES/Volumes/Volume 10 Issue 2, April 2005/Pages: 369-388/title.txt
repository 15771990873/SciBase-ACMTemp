Energy-aware variable partitioning and instruction scheduling for multibank memory architectures