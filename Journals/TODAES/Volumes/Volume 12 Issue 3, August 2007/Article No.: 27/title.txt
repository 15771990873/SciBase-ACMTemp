Efficient and scalable compiler-directed energy optimization for realtime applications