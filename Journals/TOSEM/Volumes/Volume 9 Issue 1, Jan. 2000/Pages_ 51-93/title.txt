Using shape analysis to reduce finite-state models of concurrent Java programs