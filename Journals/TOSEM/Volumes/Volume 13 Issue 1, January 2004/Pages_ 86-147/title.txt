A formal model for reasoning about adaptive QoS-enabled middleware