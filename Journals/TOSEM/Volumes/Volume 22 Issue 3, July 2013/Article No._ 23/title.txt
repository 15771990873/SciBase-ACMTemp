An algebra of design patterns