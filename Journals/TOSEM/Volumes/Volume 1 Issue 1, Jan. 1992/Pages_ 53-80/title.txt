A reference architecture for the component factory