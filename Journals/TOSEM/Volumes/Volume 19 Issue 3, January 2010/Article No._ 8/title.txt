Synthesizing hierarchical state machines from expressive scenario descriptions