Coordinating rule-based software processes with ESP