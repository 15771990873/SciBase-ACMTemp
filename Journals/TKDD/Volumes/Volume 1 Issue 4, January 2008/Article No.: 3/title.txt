Learning correlations using the mixture-of-subsets model