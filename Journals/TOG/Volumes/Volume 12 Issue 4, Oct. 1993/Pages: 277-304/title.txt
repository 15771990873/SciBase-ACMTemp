Inferring constraints from multiple snapshots