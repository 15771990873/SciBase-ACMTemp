Optimizing walking controllers for uncertain inputs and environments