Filament-based smoke with vortex shedding and variational reconnection