GlobFit: consistently fitting primitives by discovering global relations