Model reduction for real-time fluids