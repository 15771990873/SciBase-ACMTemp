Distributed gradient-domain processing of planar and spherical images