Computing layouts with deformable templates