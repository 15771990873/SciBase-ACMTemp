CHARMS: a simple framework for adaptive simulation