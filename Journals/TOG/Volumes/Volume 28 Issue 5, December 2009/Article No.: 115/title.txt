Patch-based image vectorization with automatic curvilinear feature alignment