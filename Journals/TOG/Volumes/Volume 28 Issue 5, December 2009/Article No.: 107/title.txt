Layered shape synthesis: automatic generation of control maps for non-stationary textures