By-example synthesis of structurally sound patterns