Homogeneous codes for energy-efficient illumination and imaging