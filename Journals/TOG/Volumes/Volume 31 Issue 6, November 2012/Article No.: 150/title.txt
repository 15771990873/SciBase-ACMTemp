Automated constraint placement to maintain pile shape